jkoppel

high

# Cannot upgrade contracts created by ContractFactory

## Summary

It is stated that all contracts should be upgradeable. All contracts created by ContractFactory will be owned by the ContractFactory. However, there is no mechanism for said owner to upgrade any of its owned contracts.

## Vulnerability Detail

See summary

## Impact

Cannot upgrade any contracts

## Code Snippet

Only contract owner can upgrade: https://github.com/sherlock-audit/2023-02-carapace/blob/main/contracts/UUPSUpgradeableBase.sol#L37

See how ContractFactory becomes the owner of its child contracts: https://github.com/sherlock-audit/2023-02-carapace/blob/main/contracts/core/ContractFactory.sol#L124

## Tool used

Manual Review

## Recommendation

Replace contract factory functionality with functionality that merely registers contracts created by a Carpace-controlled wallet.

